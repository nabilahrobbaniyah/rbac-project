<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
</head>
<body>

<h2>Login</h2>

<input id="username" placeholder="Username">
<br><br>
<input id="password" type="password" placeholder="Password">
<br><br>

<button onclick="login()">Login</button>

<script>
async function login() {
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;

  if (!username || !password) {
    alert('Username dan password wajib diisi');
    return;
  }

  const res = await fetch('http://localhost:3000/auth/login', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ username, password })
  });

  if (!res.ok) {
    alert('Login gagal');
    return;
  }

  const data = await res.json();
  localStorage.setItem('token', data.token);

  alert('Login sukses');
  window.location.href = 'dashboard.html';
}
</script>

</body>
</html>
